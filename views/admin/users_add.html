{% extends 'layout.html' %}
{% block usersAdd %}
<div class="content-wrapper">
  <!-- Content Header (Page header) -->
  <section class="content-header">
    <h1>
      L-blog
      <small>添加用户</small>
    </h1>
    <ol class="breadcrumb">
      <li><a href="#"><i class="fa fa-dashboard"></i>主页</a></li>
      <li><a href="#">用户管理</a></li>
      <li class="active">添加用户</li>
    </ol>
  </section>

  <!-- Main content -->
  <section class="content">
    <div class="row">
      <div class="col-md-12">
        <div class="box box-info">
          <div class="box-header with-border">
            <h3 class="box-title">添加用户</h3>
          </div>
          <!-- /.box-header -->
          <!-- form start -->
          <form class="form-horizontal" ng-app="myApp" ng-controller="myCtrl"  onsubmit="return false;">
            <div class="box-body">
              <div class="form-group">
                <label for="adminUser_username" class="col-sm-2 control-label">用户名</label>

                <div class="col-sm-10">
                  <input type="text" class="form-control" id="adminUser_username" name="adminUser_username" ng-model="adminUser_username" placeholder="请输入用户名">
                </div>
              </div>
              <div class="form-group">
                <label for="adminUser_nickname" class="col-sm-2 control-label">昵称</label>

                <div class="col-sm-10">
                  <input type="text" class="form-control" id="adminUser_nickname" name="adminUser_nickname" ng-model="adminUser_nickname" placeholder="请输入昵称">
                </div>
              </div>
              <div class="form-group">
                <label for="adminUser_avatar"  class="col-sm-2 control-label">用户头像</label>
                <div class="col-sm-10">
                 <input type="file" id="adminUser_avatar" name="adminUser_avatar" ng-model="adminUser_avatar">
                </div>
                <p class="help-block">请输入你的头像文件</p>
              </div>

              <div class="form-group">
                <label for="adminUser_password" class="col-sm-2 control-label">密码</label>

                <div class="col-sm-10">
                  <input type="password" class="form-control" id="adminUser_password" name="adminUser_password" ng-model="adminUser_password" placeholder="请输入密码">
                </div>
              </div>
              <div class="form-group">
                <label for="adminUser_repassword" class="col-sm-2 control-label">确认密码</label>

                <div class="col-sm-10">
                  <input type="password" class="form-control" id="adminUser_repassword" name="adminUser_repassword" ng-model="adminUser_repassword" placeholder="请再次输入密码">
                </div>
              </div>
              <div class="form-group">
                <label  class="col-sm-2 control-label">用户组</label>
                <div class="col-sm-10">
                  <select class="form-control" name="adminUser_userGroup" ng-model="adminUser_userGroup">
                    <option>超级管理员</option>
                    <option>网站管理员</option>
                    <option>内容管理员</option>
                    <option>投稿员</option>
                  </select>
                </div>
              </div>
              <div class="form-group">
                <label for="adminUser_phone" class="col-sm-2 control-label">电话</label>

                <div class="col-sm-10">
                  <input type="text" class="form-control" id="adminUser_phone" placeholder="请输入联系电话" name="adminUser_phone" ng-model="adminUser_phone">
                </div>
              </div>
              <div class="form-group">
                <label for="adminUser_email" class="col-sm-2 control-label">邮箱</label>

                <div class="col-sm-10">
                  <input type="text" class="form-control" id="adminUser_email" name="adminUser_email" ng-model="adminUser_email" placeholder="请输入邮箱">
                </div>
              </div>
              <div class="form-group">
                <label  class="col-sm-2 control-label">备注</label>
                <div class="col-sm-10">
                <textarea class="form-control" rows="3" placeholder="请输入备注信息" name="adminUser_remark" ng-model="adminUser_remark"></textarea>
                </div>
              </div>
            </div>
            <!-- /.box-body -->
            <div class="box-footer">
              <button type="submit" class="btn btn-default">取消</button>
              <button type="submit" class="btn btn-info pull-right" ng-click="addAdminUser()">添加</button>
            </div>
            <!-- /.box-footer -->
          </form>
        </div>
      </div>
      <!--/.col (right) -->
    </div>
    <!-- /.row -->
  </section>
  <!-- /.content -->
</div>
<script>
  var app=angular.module('myApp',[]);
  app.controller('myCtrl',function($scope,$http) {
    $scope.addAdminUser=function () {
      $http({
        method:'POST',
        url:'users_add/add',
        data:$.param({
          adminUser_username:$scope.adminUser_username,
          adminUser_nickname:$scope.adminUser_nickname,
          adminUser_avatar:$scope.adminUser_avatar,
          adminUser_password:$scope.adminUser_password,
          adminUser_repassword:$scope.adminUser_repassword,
          adminUser_userGroup:$scope.adminUser_userGroup,
          adminUser_phone:$scope.adminUser_phone,
          adminUser_email:$scope.adminUser_email,
          adminUser_remark:$scope.adminUser_remark,
        }),
        headers : { 'Content-Type': 'application/x-www-form-urlencoded' }
      }).then(function (res) {

      },function (res) {

      });
    };




  });
</script>
{% endblock %}